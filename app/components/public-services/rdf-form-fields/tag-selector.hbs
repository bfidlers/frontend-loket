<AuLabel
  @error={{this.hasErrors}}
  @required={{this.isRequired}}
  for={{this.id}}
>
  {{@field.label}}
</AuLabel>

<div class={{if this.hasErrors "ember-power-select--error"}}>
  <PowerSelectMultipleWithCreate
    @searchField="value"
    @disabled={{@show}}
    @searchMessage="Typ om een nieuwe tag toe te voegen"
    @selected={{this.selectedTags}}
    @onChange={{this.handleTagSelection}}
    @onCreate={{this.createTag}}
    @onClose={{fn (mut this.hasBeenFocused) true}}
    @buildSuggestion={{this.buildSuggestion}}
    @showCreateWhen={{this.showCreateWhen}}
    @loadingMessage="Aan het laden..."
    @noMatchesMessage="Geen resultaten"
    @triggerId={{this.id}}
    as |tagLiteral|
  >
    {{tagLiteral.value}}
  </PowerSelectMultipleWithCreate>
</div>

{{#each this.errors as |error|}}
  <AuHelpText @error={{true}}>{{error.resultMessage}}</AuHelpText>
{{/each}}