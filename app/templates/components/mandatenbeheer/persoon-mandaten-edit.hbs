<AuToolbar @border="bottom" @size="large">
  <AuToolbarGroup>
    <AuHeading @skin="2">Bewerk mandaten<br><strong>{{persoon.gebruikteVoornaam}} {{persoon.achternaam}}</strong></AuHeading>
  </AuToolbarGroup>
</AuToolbar>

<div class="au-c-body-container au-c-body-container--scroll">
  <div class="au-o-box">
    <div class="au-o-grid au-o-grid--tiny">
      <div class="au-o-grid__item au-u-1-2">
        <p class="au-c-description-label">Rijksregisternummer</p>
        <p class="au-c-description-value">{{mandatenbeheer/display-rrn persoon.identificator.identificator}}</p>
      </div>
      <div class="au-o-grid__item au-u-1-2">
        <p class="au-c-description-label">Geboortedatum</p>
        <p class="au-c-description-value">
          {{#if persoon.geboorte.datum}}
            {{moment-format persoon.geboorte.datum 'DD-MM-YYYY'}}
          {{/if}}
        </p>
      </div>
      <div class="au-o-grid__item au-u-1-2">
        <p class="au-c-description-label">Geslacht</p>
        <p class="au-c-description-value">{{persoon.geslacht.label}}</p>
      </div>
      <div class="au-o-grid__item au-u-1-2">
        <p class="au-c-description-label">Roepnaam</p>
        <p class="au-c-description-value">{{persoon.gebruikteVoornaam}}</p>
      </div>
    </div>
  </div>

  <div class="au-o-box">
    <AuHeading @level="3" @skin="4">
      Lijst van alle mandaten
    </AuHeading>

    <AuHr />

    <ul class="au-c-list-vertical">
      {{#each mandatarissen as |mandataris|}}
        {{mandatenbeheer/mandataris-edit
          bestuursorganen=bestuursorganen
          mandataris=mandataris
          mandatarissen=mandatarissen
          onSave=(action "mandatarisSaved")
          onCancelCreate=(action "mandatarisCreateCanceled")
        }}
      {{/each}}
    </ul>
    <div class="au-u-padding-top-small">
      <AuButton @skin="secondary" @width="block" {{action "createMandataris"}}>
        <AuIcon @icon="add" @alignment="left" />
        Voeg nieuw mandaat toe
      </AuButton>
      {{!-- This section is here temporarily for ABB to review all the mandates in August --}}
      <div class="alert alert--small alert--warning">
        <div class="alert__icon" aria-hidden="true"></div>
        <div class="alert__content">
          <div class="alert__message">
            <label class="checkbox checkbox--block u-spacer">
              {{input type="checkbox" name="isAdmin" checked=persoon.verifiedMandaten click=(action "updateVerifiedMandaten") class="checkbox__toggle"}}
              <span></span>
              <span>De persoon en al de bijbehorende mandaten werden nagekeken.</span>
            </label>
            <br>
            <p>Wil u graag een <strong>mandaat of mandataris verwijderen</strong>, de <strong>gegevens van een mandataris wijzigen</strong> of een <strong>fractie toevoegen of aanpassen</strong>? Zoek naar de juiste tab in <a href="https://docs.google.com/spreadsheets/d/13D38ZLH0toLlJ2u7lBwywUThM77ze1O6YUOMFL9T2lQ/edit#gid=0" target="_blank">deze controle sheet</a> om het door te geven.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<AuToolbar @border="top" @size="large">
  <AuToolbarGroup>
    <AuButton {{action "finish"}} @skin="secondary">Sluit</AuButton>
  </AuToolbarGroup>
</AuToolbar>
