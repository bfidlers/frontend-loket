{{title "Mandatenbeheer " bestuurseenheid.classificatie.label " " bestuurseenheid.naam}}
<div class="col--12-12 col--12-12--m col--1-1--s delete-me-fractie-edit-table u-border--light--right delete-me-overview-fracties">
  <div class="container-flex--contain">
    <div class="u-border--light--bottom u-padding--rl--small u-padding--tb--tiny loket-onderdeel__header" id="main" itemprop="mainContentOfPage" role="main" tabindex="-1">
      {{#link-to 'mandatenbeheer.mandatarissen' class="link link--dark smaller"}}
        &leftarrow; Terug naar mandatenbeheer
      {{/link-to}}
      <div class="grid">
        <div class="col--6-12 col--1-1--xs">
          <h1 class="h4 u-spacer--tb--tinier">Beheer Fracties</h1>
          <div class="power-select power-select--small power-select--inline">
            {{mandatenbeheer/bestuursperioden-selector
                options=bestuursperioden
                selectedStartDate=startDate
                onSelect=(action 'selectPeriod')
            }}
          </div>
        </div>
        <div class="col--6-12 col--1-1--xs u-align-right--tablet-portrait-up">
          {{wu-button
              label="Voeg fractie toe"
              onClick=(action "createNewFractie")
              isNarrow=true
          }}
        </div>
      </div>
    </div>

    {{#if saveFractie.isRunning}}
      <div class="loader-wrapper">
        <div class="loader">
          <span class="u-visually-hidden">Bezig...</span>
        </div>
      </div>
    {{else}}
      <div class="container-flex--scroll">
        <table class="data-table data-table--nowrap">
          <thead>
            <tr class="data-table__header">
              <th>Fractienaam</th>
              <th>Bestuursperiode</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {{#if newFractie}}
              {{mandatenbeheer/fractie-table-row
                  onCancel=(action "cancelEdit")
                  onSave=(perform saveFractie)
                  fractie=newFractie
                  editMode=true
              }}
            {{/if}}

            {{#each model as |row|}}
              {{mandatenbeheer/fractie-table-row
                  onCancel=(action "cancelEdit")
                  onSave=(perform saveFractie)
                  fractie=row
              }}
            {{else}}
              {{#unless newFractie}}
                <tr>
                  <td colspan="3">
                    Geen fracties gevonden.
                    {{wu-button
                        label="Voeg een nieuwe fractie toe"
                        onClick=(action "createNewFractie")
                        isNarrow=true
                        isLink=true
                    }}
                  </td>
                </tr>
              {{/unless}}
            {{/each}}
          </tbody>
        </table>
      </div>
    {{/if}}
  </div>
</div>
